! function() {
    let e = !1;
    document.querySelectorAll("#sidebar .widget_nav_menu .current-menu-ancestor, .widget_nav_menu_accordion .widget_nav_menu .current-menu-ancestor,#sidebar .widget_nav_menu .current-menu-item, .widget_nav_menu_accordion .widget_nav_menu .current-menu-item").forEach((e => {
        e.classList.add("active")
    }));
    const t = (t, n) => {
            n && "object" == typeof wpex && "function" == typeof wpex.slideUp ? (e = !0, wpex.slideUp(t, 300, (function() {
                e = !1
            }))) : t.style.display = "none"
        },
        n = (n, s) => {
            if (e || !n) return;
            const i = n.closest(".menu-item-has-children"),
                c = n.closest(".widget_nav_menu"),
                o = i.querySelector(".sub-menu");
            c.querySelectorAll(".menu-item-has-children").forEach((e => {
                if (e.contains(n)) return;
                const i = e.querySelector(".sub-menu");
                i && e.classList.contains("active") && (e.classList.remove("active"), t(i, s))
            })), o && (o.classList.contains("wpex-transitioning") || (i.classList.contains("active") ? (i.classList.remove("active"), t(o, s)) : (i.classList.add("active"), ((t, n) => {
                n && "object" == typeof wpex && "function" == typeof wpex.slideDown ? (e = !0, wpex.slideDown(t, 300, (function() {
                    e = !1
                }))) : t.style.display = "block"
            })(o, s))))
        };
    document.addEventListener("keydown", (e => {
        const t = e.target;
        if ("Tab" === e.key && t.closest("#sidebar .widget_nav_menu, .widget_nav_menu_accordion .widget_nav_menu"))
            if (e.shiftKey) {
                const e = t.closest(".sub-menu li:first-child > a");
                if (e) {
                    const t = e.closest(".menu-item-has-children.active");
                    if (t) return n(t)
                }
            } else {
                const e = t.closest(".menu-item-has-children:not(.active) > a");
                if (e) return n(e)
            }
    })), document.addEventListener("click", (e => {
        const t = e.target;
        if (!t.closest("#sidebar .widget_nav_menu, .widget_nav_menu_accordion .widget_nav_menu")) return;
        let s = !1;
        if (t.closest(".wpex-open-submenu")) s = !0;
        else if (t.closest(".wpex-open-submenu-button")) s = !0;
        else {
            const e = t.closest(".menu-item-has-children > a");
            e && "#" === e.getAttribute("href") && (s = !0)
        }
        s && (e.preventDefault(), e.stopPropagation(), n(t, !0))
    }))
}();